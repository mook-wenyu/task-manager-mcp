# 🚀 Task Viewer v3.0.0 リリースノート

*リリース日: 2025年8月7日*

## 📑 目次

- [🎉 主要な新机能](#-主要な新机能)
  - [🤖 エージェント管理システム](#-エージェント管理システム)
  - [🤖 AI駆动の一括エージェント割り当て](#-ai駆动の一括エージェント割り当て)
  - [📊 タスク履歴のGitバージョン管理](#-タスク履歴のgitバージョン管理)
  - [📊 プロジェクト履歴ビュー](#-プロジェクト履歴ビュー)
  - [🎨 テンプレート管理システム](#-テンプレート管理システム)
  - [🌍 国际化（i18n）サポート](#-国际化i18nサポート)
  - [🧭 强化されたナビゲーションとUI](#-强化されたナビゲーションとui)
- [🔄 主要な改善](#-主要な改善)
  - [タスク详细ナビゲーション](#タスク详细ナビゲーション)
  - [パフォーマンス向上](#パフォーマンス向上)
  - [开発者体験](#开発者体験)
  - [UI/UX改善](#uiux改善)
- [🐛 バグ修正](#-バグ修正)
  - [重要な修正](#重要な修正)
  - [UI修正](#ui修正)
  - [データ処理](#データ処理)
- [🏗️ 技术的更新](#️-技术的更新)
  - [新しい依存関系](#新しい依存関系)
  - [API强化](#api强化)
  - [アーキテクチャの改善](#アーキテクチャの改善)
- [📝 破壊的変更](#-破壊的変更)
  - [设置の更新](#设置の更新)
  - [API変更](#api変更)
- [🚀 移行ガイド](#-移行ガイド)
- [🎯 まとめ](#-まとめ)

## 🎉 主要な新机能

### 🤖 エージェント管理システム
**専门的なタスク処理のための包括的なサブエージェント管理**

SHRIMP-TASK-MANAGERは、さまざまなタイプのタスクに対して専门化されたAIエージェントを定义・使用できる强力なエージェント管理机能をサポートします。エージェントは、最适な実行のためにタスクに割り当てることができる専门化されたAIの个性またはスキルセットです。この机能はClaudeのエージェントシステムとシームレスに统合され、`.claude/agents`フォルダに保存されたカスタムエージェントを活用できます。

主な机能：

- **エージェントリストビュー**: `.claude/agents`フォルダの全利用可能エージェントを详细情报と共に参照
- **エージェント割り当て**: タスクテーブルのドロップダウンを介してタスクに特定のエージェントを割り当て
- **エージェントビューアポップアップ**: タスクテーブルの目のアイコン（👁️）をクリックしてポップアップエージェントビューアを开き、异なるエージェントをスクロールして各タスクに适したエージェントを选択
- **エージェントエディター**: エージェントメタデータの色のカスタマイゼーションが可能な内蔵エディター
- **グローバル＆プロジェクトエージェント**: プロジェクト固有およびグローバルエージェント定义のサポート
- **ワンクリックAI指示**: ロボット絵文本をクリックしてエージェント固有の指示をクリップボードにコピー
- **エージェントリストAI指示**: エージェントリストにロボット絵文本（🤖）付きの新しいAI指示列で、Claudeで直接使用できる`use subagent [agent-name] located in [path]:`をコピー
- **エージェント情报モーダル**: エージェント间のナビゲーションが可能な详细なエージェント情报
- **メタデータ统合**: エージェント割り当てがtasks.jsonに直接保存
- **色分け**: カスタム色を使用したエージェントの视覚的区别

#### エージェント割り当てワークフロー：
1. **利用可能なエージェントを表示**: エージェントタブにアクセスして`.claude/agents`フォルダ内のすべてのエージェントを确认
2. **タスクに割り当て**: タスクテーブルのドロップダウンを使用して各タスクにエージェントを选択
3. **指示をコピー**: ロボット絵文本をクリックしてコピー: `use the built in subagent located in ./claude/agents/[agent-name] to complete this shrimp task: [task-id] please when u start working mark the shrimp task as in progress`
4. **エージェントを编集**: カスタム色を含むエージェントのコンテンツとメタデータを変更

![AI指示付きエージェントリストビュー](/releases/agent-list-view-with-ai-instruction.png)
*エージェントリストビューはAI指示列と共にすべての利用可能なエージェントを表示 - ロボット絵文本（🤖）をクリックして`use subagent debugger.md located in ./claude/agents to perform:`のようなエージェント使用指示を直接クリップボードにコピー*

![タスクテーブルのエージェントドロップダウン](/releases/agent-dropdown-task-table.png)
*タスクテーブルのドロップダウンセレクターを使用してタスクにエージェントを割り当て*

![エージェントビューアポップアップ](/releases/agent-viewer-popup.png)
*目のアイコン（👁️）をクリックしてエージェントビューアポップアップを开き、タスク割り当てのための利用可能なエージェントを参照*

![色选択付きエージェントエディター](/releases/agent-editor-color-selection.png)
*视覚的整理のためにエージェントコンテンツを编集し、色でカスタマイズ*

![エージェントコピー指示ツールチップ](/releases/agent-copy-instruction-tooltip.png)
*ロボット絵文本をクリックしてエージェント固有のタスク指示をコピー*

![エージェント情报モーダル](/releases/agent-info-modal.png)
*详细情报と简単なナビゲーションでエージェントを参照*

![エージェント用グローバル设置](/releases/global-settings-agents.png)
*システム全体のエージェントにアクセスするためのグローバルClaudeフォルダパスを设置*

### 🤖 AI駆动の一括エージェント割り当て
**OpenAI GPT-4を使用して复数のタスクに最适なエージェントを自动的に割り当て**

Task Viewerは现在OpenAIのGPT-4と统合され、タスクの说明と要件に基づいてインテリジェントにタスクにエージェントを割り当てます。この机能により、多数のタスクに适切なエージェントを设置するのに必要な时间が大幅に削减されます。

主な机能：

- **一括选択**: タスクテーブルのチェックボックスを使用して复数のタスクを选択
- **ワンクリック割り当て**: 「AI割り当てエージェント」をクリックして选択されたすべてのタスクに自动的にエージェントを割り当て
- **インテリジェントマッチング**: GPT-4がタスクの说明とエージェントの能力を分析して最适な割り当てを実行
- **グローバル设置统合**: グローバル设置タブでOpenAI APIキーを设置
- **环境変数サポート**: `OPENAI_API_KEY`または`OPEN_AI_KEY_SHRIMP_TASK_VIEWER`环境変数もサポート
- **エラーガイダンス**: APIキーが设置されていない场合の明确な指示

#### セットアップ手顺：
1. **APIキーを设置**: 设置→グローバル设置に移动してOpenAI APIキーを入力
2. **タスクを选択**: チェックボックスを使用してエージェント割り当てが必要なタスクを选択
3. **AI割り当て**: 一括アクションバーの「🤖 AI割り当てエージェント」ボタンをクリック
4. **自动処理**: GPT-4がタスクを分析し、最适なエージェントを割り当て

![グローバル设置OpenAIキー](/releases/global-settings-openai-key.png)
*AI駆动のエージェント割り当てのためにグローバル设置でOpenAI APIキーを设置*

![AI一括エージェント割り当て](/releases/ai-bulk-agent-assignment.png)
*复数のタスクを选択し、「🤖 AI割り当てエージェント（5つのタスクが选択済み）」をクリックしてGPT-4を使用して适切なエージェントを自动的に割り当て*

### 📊 タスク履歴のGitバージョン管理
**タスクのすべての変更を自动Gitコミットで追迹**

SHRIMP-TASK-MANAGERは现在、tasks.jsonファイルのすべての変更を自动的に追迹する内蔵Git统合を含んでいます。これにより、手动介入なしにタスク変更の完全な监查证迹を提供します。

主な机能：

- **自动Git リポジトリ**: 初回使用时にデータディレクトリにGitリポジトリを初期化
- **タイムスタンプ付きコミット**: すべてのタスク操作（作成、更新、削除）がローカルタイムゾーンのタイムスタンプ付きコミットを作成
- **说明的メッセージ**: コミットに変更内容の明确な说明を含む（例：「新しいタスクを追加：ユーザー认证を実装」）
- **非ブロッキング**: Git操作がtry-catchブロックでラップされている - Gitが失败してもタスク操作は正常に継続
- **分离されたリポジトリ**: Gitリポジトリはタスク履歴のみに使用され、プロジェクトリポジトリと完全に分离
- **マージ竞合なし**: 単一ファイル追迹と线形履歴により竞合不可能

#### メリット：
- **完全な履歴**: 标准のGitツールを使用してタスクの全进化を确认
- **変更追迹**: タスクがいつどのように変更されたかを正确に确认
- **复旧オプション**: 必要に応じて以前のタスク状态を复元
- **チーム可视性**: チームメンバーとタスク履歴を共有

Git统合は完全に透明で设置不要です。いつでも以下のコマンドを使用して履歴を表示できます：
```bash
cd <shrimp-data-directory>
git log --oneline
```

#### タスク履歴の表示方法

1. **タスクデータディレクトリに移动**（`.mcp.json`で设置された通り）：
   ```bash
   cd <shrimp-data-directory>
   ```

2. **コミット履歴を表示**：
   ```bash
   git log --oneline
   ```

3. **特定の変更を确认**：
   ```bash
   git show <commit-hash>
   ```

4. **バージョンを比较**：
   ```bash
   git diff HEAD~5  # 5コミット前と比较
   ```

5. **以前の状态を复元**（必要に応じて）：
   ```bash
   git checkout <commit-hash> -- tasks.json
   ```

### 📊 プロジェクト履歴ビュー
**プロジェクトのタスク実行履歴を追迹・分析**

SHRIMP-TASK-MANAGERは、新しいタスクセッションを开始するたびに完了したタスクをプロジェクト内のメモリファイルに自动保存します。以前は、この贵重な履歴データがこれらのメモリファイルに隠されており、UIを通じてアクセスできませんでした。新しいプロジェクト履歴ビューはこのタスク履歴を公开し、时间の経过に伴うプロジェクトの进化を探索できます。

この机能により以下が可能になります：

- **履歴タスクスナップショット**: SHRIMP-TASK-MANAGERによって保存されたプロジェクトの过去の状态を参照
- **タスク进化追迹**: 异なるセッション间でタスクが作成から完了までどのように进行したかを确认
- **ノートシステム**: 将来の参照とチーム知识共有のための履歴エントリに个人ノートを追加
- **详细タスクビュー**: 特定の履歴タスク状态を详しく调べて过去の决定と実装を理解
- **时间ベースナビゲーション**: プロジェクトのタイムラインをナビゲートしていつ何が达成されたかを确认
- **スナップショット比较**: 异なる时期のタスク状态を比较してプロジェクトの成长と変化を追迹

![プロジェクト履歴ビュースクリーンショット](/releases/project-history-view.png)

![プロジェクト履歴详细ビュースクリーンショット](/releases/project-history-detail-view.png)

### 🎨 テンプレート管理システム
**AIタスク実行のための强力なテンプレートカスタマイゼーション**

テンプレートは、SHRIMP-TASK-MANAGERがさまざまなタイプの操作を分析・実行する方法をガイドする核となる指示です。计画と分析から実装と検证まで、AIがさまざまなタイプの操作にどのようにアプローチするかを定义します。MCP-TASK-MANAGERは、デフォルトの动作をオーバーライドしたり、既存のテンプレートに追加の指示を追加したりできるカスタムテンプレートを可能にします。

この新しいテンプレート管理インターフェースは以下のための直感的な方法を提供します：

- **テンプレートエディター**: カスタムAI指示を作成するためのシンタックスハイライト付きフル机能マークダウンエディター
- **テンプレートプレビュー**: アクティベーション前のテンプレートのライブプレビューで要件を満たしていることを确认
- **テンプレート拷贝**: 异なる使用ケースのために既存テンプレートのバリエーションを简単に作成
- **テンプレート状态追迹**: デフォルト（オリジナル）、カスタム（完全置换）、カスタム+追加（デフォルトへの追加）状态を示すビジュアルインジケーター
- **デフォルトにリセット**: 必要时にオリジナルテンプレートをワンクリック复元
- **テンプレートエクスポート**: バックアップ、チームメンバーとの共有、またはバージョン管理のためにカスタムテンプレートをエクスポート
- **アクティベーションダイアログ**: 偶発的な変更を防ぐためのテンプレートアクティベーション时の明确な确认

![テンプレート管理システムスクリーンショット](/releases/template-management-system.png)

### 🌍 国际化（i18n）サポート
**シームレスな言语切り替えによる多言语サポート**

- **3つの言语をサポート**: 英语（en）、中国语（中文）、スペイン语（Español）
- **永続的な言语选択**: 言语设置が保存され记忆される
- **完全なUI翻訳**: すべてのUI要素、ボタン、ラベル、メッセージが完全に翻訳
- **动的言语切り替え**: ページリロードなしでオンザフライで言语変更
- **言语コンテキストプロバイダー**: 一贯した翻訳のための中央集権的言语管理

### 🧭 强化されたナビゲーションとUI
**モダンで直感的なインターフェース改善**

- **ネストタブシステム**: プライマリとセカンダリタブによる整理されたナビゲーション
- **URL状态同期**: 现在のビューを反映するブラウザURL更新
- **タスク详细ナビゲーション**: リストに戻ることなく顺次タスクレビューを可能にする前/次ボタン
- **ローディングスピナー**: データロード中のビジュアルフィードバック
- **トースト通知**: 非侵入的な成功/エラーメッセージ
- **レスポンシブデザイン**: 改善されたモバイル・タブレット体験
- **モーダル改善**: より良いモーダルレイアウトとインタラクション
- **キーボードナビゲーション**: 详细ビューでのより高速なタスクナビゲーションのための矢印キーサポート

## 🔄 主要な改善

### タスク详细ナビゲーション
**シームレスなタスクレビューワークフロー**

タスク详细ビューには现在、タスクをレビューし作业する方法を変革する前/次ナビゲーションボタンが含まれています：

- **顺次ナビゲーション**: メインリストに戻ることなく顺序通りにタスクを移动
- **コンテキスト保持**: タスク间で切り替えながら详细ビューに留まる
- **ビジュアルインジケーター**: ボタンにタスク番号を表示（例：「← 前（タスク3）」と「次（タスク5）→」）
- **スマート境界**: 最初と最后のタスクでナビゲーションボタンを无効化
- **キーボードショートカット**: さらに高速なナビゲーションのために矢印キーを使用
- **効率向上**: 往复クリックより3-5倍高速な全タスクリストレビュー

この机能は以下の场合に特に有用です：
- AI分析から新しく作成されたタスクのレビュー
- 一连の依存タスクの作业
- 复数の関连タスクの実装详细の确认
- タスク监查またはレビューの実行

### パフォーマンス向上
- **最适化された再レンダリング**: より良いパフォーマンスのためにReact hooksを适切にメモ化
- **遅延ロード**: より高速な初期ページロードのためのオンデマンドコンポーネントロード
- **効率的な状态管理**: 不要な状态更新の削减
- **バッチ更新**: よりスムーズなUIのための复数状态変更のバッチ処理

### 开発者体験
- **包括的テストスイート**: 统合・言语机能テストを追加
- **テストチェックリスト**: 构造化されたテストドキュメント
- **より良いエラーハンドリング**: より有益なエラーメッセージ
- **デバッグログ**: 开発用の强化されたデバッグ机能

### UI/UX改善
- **改善されたタスクテーブル**: より良いカラムサイジングとテキスト折り返し
- **强化されたモーダル**: 一贯したモーダルスタイリングと动作
- **より良いタイポグラフィー**: 更新されたフォントサイズによる読みやすさの改善
- **カラースキーム更新**: よりアクセシブルな色彩コントラスト
- **アイコンの一贯性**: アプリ全体での统一されたアイコン使用

## 🐛 バグ修正

### 重要な修正
- **useRef Hookエラー**: アプリクラッシュを引き起こす欠落したReact hook インポートを修正
- **翻訳キー**: すべてのサポート言语に対する欠落した翻訳キーを追加
- **シンボリックリンクループ**: Screenshotsディレクトリの无限ループ问题を解决
- **Windowsパス処理**: Windows 11でのfile:// URI问题を修正
- **リポジトリリンク**: すべてのリポジトリ参照を修正

### UI修正
- **モーダルZ-index**: モーダルレイヤリング问题を修正
- **タブ选択**: ページリロード时のタブ永続性を修正
- **言语セレクター**: 状态同期问题を修正
- **コピー机能**: クリップボード操作の信頼性を向上
- **レスポンシブレイアウト**: モバイルビューポート问题を修正

### データ処理
- **プロフィールローディング**: プロフィール切り替え时の竞合状态を修正
- **タスクリフレッシュ**: 自动リフレッシュの信頼性を向上
- **履歴ローディング**: 履歴ビューのページネーション问题を修正
- **テンプレート保存**: テンプレート永続性バグを解决

## 🏗️ 技术的更新

### 新しい依存関系
- `@headlessui/react`: モダンUIコンポーネント
- `@tanstack/react-table`: 高度なテーブル机能
- `@uiw/react-md-editor`: テンプレート用マークダウン编集
- TypeScriptサポートのための追加型定义

### API强化
- **GET /api/templates**: すべての利用可能なテンプレートをリスト
- **PUT /api/templates/:name**: テンプレートコンテンツを更新
- **POST /api/templates/:name/duplicate**: テンプレートを拷贝
- **GET /api/history/:profileId**: プロジェクト履歴を取得
- **强化されたエラーレスポンス**: より详细なAPIエラーメッセージ

### アーキテクチャの改善
- **コンポーネントモジュール化**: より良い関心の分离
- **カスタムHooks**: 再利用可能なロジックをhooksに抽出
- **コンテキストプロバイダー**: 中央集権的状态管理
- **ユーティリティ関数**: 一般的な操作のための共有ユーティリティ

## 📝 破壊的変更

### 设置の更新
- **言语设置**: 新しい言语设置ストレージフォーマット
- **テンプレートストレージ**: テンプレートが现在ユーザーホームディレクトリに保存
- **URL构造**: より良いナビゲーションのための更新されたURLパターン

### API変更
- **プロフィールエンドポイント**: より多くのメタデータを含む更新されたレスポンスフォーマット
- **タスクエンドポイント**: 追加フィルタリングオプションで强化
- **テンプレートエンドポイント**: テンプレート管理のための新しいエンドポイント构造

## 🚀 移行ガイド

### v2.1からv3.0へ
1. **言语选択**: デフォルト言语は英语になります。新しいセレクターから希望言语を选択
2. **テンプレート**: 既存のカスタムテンプレートは保持されますが再アクティベーションが必要な场合があります
3. **ブラウザキャッシュ**: 最适なパフォーマンスのためにブラウザキャッシュをクリア
4. **プロフィールデータ**: すべての既存プロフィールは変更なしで継続动作

## 🎯 まとめ

バージョン3.0はTask Viewerの大きな飞跃を表し、シンプルなタスク视覚化ツールから包括的なタスク管理・カスタマイゼーションプラットフォームへと変革しました。完全な国际化サポート、强力なテンプレート管理、AI駆动の自动化、Gitベースの履歴追迹机能により、このリリースはチームにAI支持开発ワークフローへの前例のない制御を提供します。

このリリースの主要ハイライト：
- **AI駆动のエージェント割り当て**: GPT-4を活用してタスクに最适なエージェントを自动割り当て
- **Gitバージョン管理**: タイムスタンプ付きコミットによる全タスク変更の自动追迹
- **多言语サポート**: 英语、中国语、スペイン语による完全な国际化
- **テンプレート管理**: テンプレート编集によるAI动作の深いカスタマイゼーション
- **履歴ビュー**: Gitコミットとメモリスナップショットによるプロジェクト进化の完全な可视性

3言语サポート（英语、中国语、スペイン语）の追加により、ツールがグローバルな対象者にアクセス可能になり、テンプレート管理システムはAI动作の深いカスタマイゼーションを可能にします。Git统合はすべてのタスク変更の永続的な监查证迹を提供し、AI駆动の一括割り当て机能はタスク设置を剧的に高速化します。

このリリースは将来の强化の基盘を设置し、Task ViewerをモダンなAI支持开発ツールキットの必须ツールとして位置付けます。
## 代码库分析

接收到初步方案后，依序完成下列检查与优化，并在最后调用 `reflect_task` 工具：

1. **结构完整性检查**

   - 是否涵盖所有需求与限制？
   - 模块边界、接口定义是否清晰？
   - 依赖图是否合理、可维护？
   - 设计是否符合项目的内核架构模式？
   - 是否维护了项目既有的层次结构与组件划分？

2. **重复功能侦测与共用判断**

   - 使用精确的搜索策略：
     - 使用 `codebase_search`、`read_file`或其他类斯工具搜索类似功能实现
     - 分析关键组件和工具类的用途与职责
   - 检查方案中功能是否与现有进程或其他模块重叠
   - 如重叠，判断：
     - 可否直接 **重用** 现有组件（评估适用性、扩展性）
     - 或需 **重构/抽象** 成共用组件（考虑重用成本与效益）
   - 明确标示重用决策的理由和影响范围

3. **性能与扩展性评估**

   - 是否有潜在性能瓶颈？
   - 未来新需求下设计的可扩充性如何？
   - 是否考虑了资源使用和系统负载？
   - 扩展策略是否符合项目既有模式？

4. **一致性与风格验证**

   - 是否符合项目既有进程风格、命名与架构约定
     - 检查命名规则（驼峰式、蛇形等）一致性
     - 确认方法/函数参数和返回值风格
     - 检查注释与文档格式
   - 是否遵循项目特有的设计模式与架构决策
   - 有无违反团队最佳实践
   - UI/UX 的设计是否符合目前的画面风格

5. **架构集成评估**

   - 新功能如何与现有架构无缝衔接
   - 评估对现有模块和服务的影响
   - 确认是否维护了向后兼容性
   - 检查是否保护了系统边界和模块封装性

6. **优化建议**
   - 针对以上检查，整理优化后的答案
   - 确保建议与现有架构保持一致
   - 提供具体的代码组织和集成策略
   - 调用工具：
     ```
     reflect_task({ summary: '分析摘要', analysis: <分析结果> })
     ```

**现在开始调用 `reflect_task`，严禁不调用工具**
